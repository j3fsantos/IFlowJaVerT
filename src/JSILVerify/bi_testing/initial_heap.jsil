proc create_default_object (l, pr, cl, ext) {

 			goto [cl = $$undefined] scl text;
 	scl:	cl := "Object";
 	text:	goto [ext = $$undefined] sext setall;
 	sext:	ext := $$t;

 	setall:	[l, "@proto"] := pr;
 			[l, "@class"] := cl;
 			[l, "@extensible"] := ext;

 	rlab:	xret := l
}
with
{
	ret:	xret, rlab;
};


proc setupInitialHeap () {

			(* Global object *)

			xret := "create_default_object" ($lg, $lobj_proto, "Object", $$t);


	rlab:	xret := $$empty
}
with
{
	ret:	xret, rlab;
};
