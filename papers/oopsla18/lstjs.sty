\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch,
    switch, var, if, in, while, do, else, case, break, eval, continue},
  keywordstyle={\ttfamily\color{dkviolet}},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle={\ttfamily\color{dkgreen}},
  identifierstyle={\ttfamily\color{black}},
  sensitive=true,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle={\ttfamily\color{dkgreen}},
  stringstyle=\ttfamily,
  morestring=[b]',
  morestring=[b]",
  columns=[l]fullflexible,
  extendedchars=true,
  basicstyle=\small,
  showstringspaces=false,
  showspaces=false,
  tabsize=2,
  breaklines=true,
  showtabs=false,
  captionpos=b
}[keywords,comments,strings]


\lstnewenvironment{jsl}{\lstset{language=JavaScript,basicstyle=\normalsize}}{\setcounter{main}{\value{lstnumber}}}
\lstnewenvironment{jsls}{\lstset{language=JavaScript,basicstyle=\scriptsize}}{\setcounter{main}{\value{lstnumber}}}
\lstnewenvironment{jsll}{\lstset{language=JavaScript,basicstyle=\small}}{\setcounter{main}{\value{lstnumber}}}
% pour inliner dans le texte
\def\jsinline{\lstinline[language=JavaScript, basicstyle=\small]}
% pour inliner dans les tableaux / displaymath...
\def\jsinlines{\lstinline[language=JavaScript, basicstyle=\normalsize]}

